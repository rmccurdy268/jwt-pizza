### Rhodric McCurdy
# Curiosity Report

### IP Tracking

During class we talked about solutions to malicious attacks and how to stop individual people from contacting our application. Someone in class came up with the idea that you could write some code in your application to block all requests from a troublesome IP address, an idea that was ruled as fairly inefficient because an attacker would probably be using a proxy IP address and it wouldn't be hard to randomize that address and continue attacking. I think that this strategy may still prove useful when you detect an initial attack, because it can stall the attacker and give you time to come up with a long-term strategy to combat the attack before they can get back into the system.

### Research and Implementation strategy
Brother Jensen had mentioned that this process would not be very easy becuase of the load balancer sending the request from a different IP address. As I started to dig into what I needed to do to set this up, I realized that it may be simpler than I had previously believed. I did some research on the way that the Load Balancer works with our server and I realized that the current load balancer we have is by default transmitting the original IP of the user through a header field called 'x-forwarded-for'. While it may seem like a great way for us to use this header, it does open up new problems for us. If someone could bypass our load balancer and send requests direcly to our server, they can manipulate that field and trick our system into thinking we are coming from a different IP address. Let's say our #1 customer who buys around 30 pizzas per month (sometimes 31, sometimes 28) has an IP of 1234, someone who wants to tank our business could bypass the load balancer and do something ban-worthy that will make us put him on the ban list. Then every time our #1 customer tries to buy a pizza we will block his request, and we probably won't realize what we've done until he calls and complains, at which point we are at risk of losing his business. I ended up reading a lot about Load Balancers and had a conversation with chatGPT about how they might be dangerous. At one point I asked "How can you bypass a load balancer and change the 'x-forwarded-for' field in an HTTP request" and I was promptly ignored for breach of ChatGPT usage policies. 

### Implementation

I ended up implementing this in my code as a middleware that runs from service.js and sees every HTTP request. I created an array to hold the list of banned IP's, and when a request comes in its IP address is checked to make sure it's not on the ban list. If the IP is on the banlist they are sent a 403 error that notifies them that they are operating from an IP that has been placed on our banlist. I tested this implementation with a few of my friends from different IP addresses across the US.

### Final Thoughts

I feel like I did not do a ton of independent learning about an abstract concept that we learned in class, but as I started this project I was driven by curiosity to try out this new feature, and I had to learn more about concepts that I am not super familiar with to get it done (ie Load Balancers and Middleware). Please don't shame me for not being great at middleware. The current implementation is also heavily flawed because the banned IP's are statically stored in the public code for the server, and not hidden awat. I spent a lot of time looking into storing the banned IP's in an amazon s3 bucket, but I have decided not to implement that change because it would take some modifying to my CI pipeline and it seems like it may be a lot of work for a feature that may cause more problems than it solves. Overall this project has been a great exercize of thinking through a feature and researching it, and trying different configurations to see if I can make it work. While this is something that maybe would not be approved to move into a main branch of our production code, it was something that drew my curiosity that I fleshed out for a few hours to see if it would be viable for our application.